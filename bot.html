<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Haribo Hub - Menu Responsive Stylé</title>
<style>
  /* Reset */
  * {
    margin: 0; padding: 0; box-sizing: border-box;
  } 
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #121212;
    color: #eee;
    min-height: 100vh;
  }
  a {
    color: #ffb347;
    text-decoration: none;
    transition: color 0.3s ease;
  }
  a:hover, a:focus {
    color: #ffc966;
    outline: none;
  }

  /* HEADER */
  header {
    position: fixed;
    top: 0; left: 0; right: 0;
    background: #1e1e1e;
    border-bottom: 1px solid #333;
    z-index: 1000;
    box-shadow: 0 2px 8px rgba(0,0,0,0.8);
  }
  .container {
    max-width: 1100px;
    margin: auto;
    padding: 0 20px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    height: 60px;
  }
  .logo {
    font-weight: 900;
    font-size: 28px;
    color: #ffb347;
    user-select: none;
    letter-spacing: 0.04em;
    text-shadow: 0 0 10px #ffb347aa;
  }

  /* NAVIGATION */
  nav {
    display: flex;
    gap: 24px;
  }
  nav a {
    font-weight: 600;
    font-size: 16px;
    padding: 8px 14px;
    border-radius: 8px;
    background: transparent;
    box-shadow: inset 0 0 0 0 #ffb347;
    transition: box-shadow 0.3s ease, background-color 0.3s ease;
    cursor: pointer;
  }
  nav a:hover, nav a.active {
    background: #ffb347;
    color: #1a1a1a;
    box-shadow: inset 0 0 10px 3px #ffb347cc;
  }

  /* HAMBURGER */
  .menu-btn {
    display: none;
    flex-direction: column;
    justify-content: space-between;
    width: 28px;
    height: 22px;
    cursor: pointer;
    user-select: none;
  }
  .menu-btn span {
    display: block;
    height: 3px;
    background: #ffb347;
    border-radius: 3px;
    transition: all 0.4s ease;
  }
  .menu-btn.open span:nth-child(1) {
    transform: rotate(45deg) translate(5px, 5px);
  }
  .menu-btn.open span:nth-child(2) {
    opacity: 0;
  }
  .menu-btn.open span:nth-child(3) {
    transform: rotate(-45deg) translate(5px, -5px);
  }

  /* MOBILE MENU */
  .mobile-menu {
    position: fixed;
    top: 60px;
    left: 0;
    right: 0;
    background: #1e1e1e;
    border-top: 1px solid #333;
    box-shadow: 0 4px 10px rgba(0,0,0,0.7);
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.35s ease;
    display: flex;
    flex-direction: column;
  }
  .mobile-menu.open {
    max-height: 300px; /* assez pour 6 liens */
  }
  .mobile-menu a {
    color: #ffb347;
    padding: 16px 20px;
    border-bottom: 1px solid #333;
    font-weight: 700;
    font-size: 18px;
    user-select: none;
  }
  .mobile-menu a:last-child {
    border-bottom: none;
  }
  .mobile-menu a:hover, .mobile-menu a:focus {
    background: #ffb347;
    color: #1a1a1a;
    outline: none;
  }

  /* MAIN CONTENT */
  main {
    margin-top: 60px;
    max-width: 1100px;
    margin-left: auto;
    margin-right: auto;
    padding: 20px;
  }
  section {
    display: none;
    animation: fadeIn 0.6s ease forwards;
  }
  section.active {
    display: block;
  }
  h1, h2 {
    color: #ffb347;
    text-shadow: 0 0 10px #ffb347aa;
    margin-bottom: 16px;
  }
  p {
    color: #ccc;
    font-size: 18px;
    line-height: 1.5;
  }

  /* ANIMATION */
  @keyframes fadeIn {
    from {opacity: 0; transform: translateY(20px);}
    to {opacity: 1; transform: translateY(0);}
  }

  /* Responsive */
  @media (max-width: 900px) {
    nav {
      display: none;
    }
    .menu-btn {
      display: flex;
    }
  }
</style>
</head>
<body>

<header>
  <div class="container">
    <div class="logo" tabindex="0" aria-label="Haribo Hub">Haribo Hub</div>

    <nav aria-label="Menu principal">
      <a href="#" data-section="accueil" class="active">Accueil</a>
      <a href="#" data-section="serveurs">Serveurs</a>
      <a href="#" data-section="bots">Bots</a>
      <a href="#" data-section="projets">Projets</a>
      <a href="#" data-section="contact">Contact</a>
      <a href="#" id="adminBtn">Admin ⚙️</a>
    </nav>

    <button aria-label="Ouvrir le menu" class="menu-btn" id="menuBtn" aria-expanded="false" aria-controls="mobileMenu">
      <span></span><span></span><span></span>
    </button>
  </div>

  <nav id="mobileMenu" class="mobile-menu" aria-label="Menu mobile" aria-hidden="true">
    <a href="#" data-section="accueil">Accueil</a>
    <a href="#" data-section="serveurs">Serveurs</a>
    <a href="#" data-section="bots">Bots</a>
    <a href="#" data-section="projets">Projets</a>
    <a href="#" data-section="contact">Contact</a>
    <a href="#" id="mobileAdminBtn">Admin ⚙️</a>
  </nav>
</header>

<main>
  <section id="accueil" class="active" tabindex="0" aria-label="Section Accueil">
    <h1>Bienvenue sur Haribo Hub</h1>
    <p>Le centre officiel regroupant tous nos serveurs, bots et projets.</p>
    <p>Utilise le menu pour naviguer ou rends-toi dans la section Admin pour modifier les liens.</p>
  </section>
  <section id="serveurs" tabindex="0" aria-label="Section Serveurs">
    <h2>Nos Serveurs</h2>
    <ul id="serversList"></ul>
  </section>
  <section id="bots" tabindex="0" aria-label="Section Bots">
    <h2>Nos Bots</h2>
    <ul id="botsList"></ul>
  </section>
  <section id="projets" tabindex="0" aria-label="Section Projets">
    <h2>Projets en cours</h2>
    <ul id="projectsList"></ul>
  </section>
  <section id="contact" tabindex="0" aria-label="Section Contact">
    <h2>Contact</h2>
    <ul id="contactList"></ul>
  </section>
</main>

<!-- Admin Modal -->
<div id="adminModal" role="dialog" aria-modal="true" aria-labelledby="adminTitle" style="display:none;">
  <div style="
    background:#222; color:#eee; padding: 20px; max-width: 500px; margin: 10vh auto; border-radius: 12px; box-shadow: 0 0 15px #ffb347cc;
  ">
    <h2 id="adminTitle" style="color:#ffb347; margin-bottom: 20px;">Panneau Admin</h2>
    <form id="loginForm">
      <label for="adminPassword" style="color:#ffb347; font-weight:bold;">Mot de passe</label>
      <input type="password" id="adminPassword" required style="width:100%; padding:10px; margin:8px 0; border-radius:8px; border:none; background:#333; color:#eee;" autocomplete="current-password" />
      <button type="submit" class="btn" style="background:#ffb347; border:none; width:100%; padding:12px; font-weight:bold; cursor:pointer;">Se connecter</button>
      <p id="loginError" style="color:#f44336; display:none; margin-top: 10px;">Mot de passe incorrect</p>
    </form>
    <form id="linksForm" style="display:none; margin-top: 20px;">
      <label for="serversInput" style="color:#ffb347; font-weight:bold;">Serveurs (JSON)</label>
      <textarea id="serversInput" rows="5" style="width:100%; background:#333; color:#eee; border-radius:8px; padding:10px; margin-bottom:15px;"></textarea>

      <label for="botsInput" style="color:#ffb347; font-weight:bold;">Bots (JSON)</label>
      <textarea id="botsInput" rows="5" style="width:100%; background:#333; color:#eee; border-radius:8px; padding:10px; margin-bottom:15px;"></textarea>

      <label for="projectsInput" style="color:#ffb347; font-weight:bold;">Projets (JSON)</label>
      <textarea id="projectsInput" rows="5" style="width:100%; background:#333; color:#eee; border-radius:8px; padding:10px; margin-bottom:15px;"></textarea>

      <label for="contactInput" style="color:#ffb347; font-weight:bold;">Contact (JSON)</label>
      <textarea id="contactInput" rows="4" style="width:100%; background:#333; color:#eee; border-radius:8px; padding:10px; margin-bottom:15px;"></textarea>

      <button type="submit" class="btn" style="background:#ffb347; border:none; width:100%; padding:12px; font-weight:bold; cursor:pointer;">Sauvegarder</button>
      <button type="button" id="logoutBtn" class="btn" style="margin-top:10px; background:#555;">Déconnexion</button>
    </form>
  </div>
</div>

<script>
  const password = 'enorLEFM0';

  // Data (initial)
  let dataLinks = {
    servers: [
      {name: "Haribo Community", url: "https://discord.gg/haribocommunity"},
      {name: "Haribo PLAYZONE", url: "https://discord.gg/playzone"},
      {name: "Omega RP", url: "https://discord.gg/omegarp"}
    ],
    bots: [
      {name: "Haribobot", url: "https://haribobot.com/invite"},
      {name: "MusicBot", url: "https://musicbot.com/invite"}
    ],
    projects: [
      {name: "District RP", url: "https://districtrp.com"},
      {name: "Haribo Company Website", url: "https://haribo-company.netlify.app"}
    ],
    contact: [
      {name: "Email support", url: "mailto:support@haribo-company.netlify.app"},
      {name: "Discord Support", url: "https://discord.gg/support"}
    ]
  };

  // Elements
  const navLinks = document.querySelectorAll('nav a[data-section]');
  const sections = document.querySelectorAll('main section');
  const serversList = document.getElementById('serversList');
  const botsList = document.getElementById('botsList');
  const projectsList = document.getElementById('projectsList');
  const contactList = document.getElementById('contactList');
  const adminModal = document.getElementById('adminModal');
  const loginForm = document.getElementById('loginForm');
  const linksForm = document.getElementById('linksForm');
  const adminPasswordInput = document.getElementById('adminPassword');
  const loginError = document.getElementById('loginError');
  const serversInput = document.getElementById('serversInput');
  const botsInput = document.getElementById('botsInput');
  const projectsInput = document.getElementById('projectsInput');
  const contactInput = document.getElementById('contactInput');
  const logoutBtn = document.getElementById('logoutBtn');
  const menuBtn = document.getElementById('menuBtn');
  const mobileMenu = document.getElementById('mobileMenu');
  const adminBtn = document.getElementById('adminBtn');
  const mobileAdminBtn = document.getElementById('mobileAdminBtn');

  // Navigation: show sections on menu click
  navLinks.forEach(link => {
    link.addEventListener('click', e => {
      e.preventDefault();
      const target = e.target.getAttribute('data-section');
      showSection(target);
      closeMobileMenu();
    });
  });

  function showSection(id) {
    sections.forEach(section => {
      if(section.id === id) {
        section.classList.add('active');
        section.focus();
        navLinks.forEach(link => {
          link.classList.toggle('active', link.getAttribute('data-section') === id);
        });
      } else {
        section.classList.remove('active');
      }
    });
  }

  // Mobile menu toggle
  menuBtn.addEventListener('click', () => {
    const opened = menuBtn.classList.toggle('open');
    mobileMenu.classList.toggle('open', opened);
    menuBtn.setAttribute('aria-expanded', opened ? 'true' : 'false');
    mobileMenu.setAttribute('aria-hidden', opened ? 'false' : 'true');
  });

  function closeMobileMenu() {
    menuBtn.classList.remove('open');
    mobileMenu.classList.remove('open');
    menuBtn.setAttribute('aria-expanded', 'false');
    mobileMenu.setAttribute('aria-hidden', 'true');
  }

  // Admin modal open
  adminBtn.addEventListener('click', e => {
    e.preventDefault();
    openAdmin();
    closeMobileMenu();
  });
  mobileAdminBtn.addEventListener('click', e => {
    e.preventDefault();
    openAdmin();
    closeMobileMenu();
  });

  function openAdmin() {
    adminModal.style.display = 'block';
    loginForm.style.display = 'block';
    linksForm.style.display = 'none';
    loginError.style.display = 'none';
    adminPasswordInput.value = '';
    adminPasswordInput.focus();
  }

  // Admin login form submit
  loginForm.addEventListener('submit', e => {
    e.preventDefault();
    const val = adminPasswordInput.value.trim();
    if(val === password) {
      loggedIn = true;
      loadLinksToForm();
      loginForm.style.display = 'none';
      linksForm.style.display = 'block';
    } else {
      loginError.style.display = 'block';
      adminPasswordInput.focus();
    }
  });

  // Load links data into textareas
  function loadLinksToForm() {
    serversInput.value = JSON.stringify(dataLinks.servers, null, 2);
    botsInput.value = JSON.stringify(dataLinks.bots, null, 2);
    projectsInput.value = JSON.stringify(dataLinks.projects, null, 2);
    contactInput.value = JSON.stringify(dataLinks.contact, null, 2);
  }

  // Save links form submit
  linksForm.addEventListener('submit', e => {
    e.preventDefault();
    try {
      const servers = JSON.parse(serversInput.value);
      const bots = JSON.parse(botsInput.value);
      const projects = JSON.parse(projectsInput.value);
      const contact = JSON.parse(contactInput.value);

      // Basic validation (array of objects with name+url)
      if(validateLinksArray(servers) && validateLinksArray(bots) && validateLinksArray(projects) && validateLinksArray(contact)) {
        dataLinks.servers = servers;
        dataLinks.bots = bots;
        dataLinks.projects = projects;
        dataLinks.contact = contact;
        renderLinks();
        alert('Liens sauvegardés avec succès !');
      } else {
        alert('Format JSON invalide (champs name et url requis dans chaque objet).');
      }
    } catch {
      alert('Erreur : JSON mal formé.');
    }
  });

  function validateLinksArray(arr) {
    return Array.isArray(arr) && arr.every(item => item.name && item.url);
  }

  // Logout
  logoutBtn.addEventListener('click', () => {
    loggedIn = false;
    adminModal.style.display = 'none';
  });

  // Render links in lists
  function renderLinks() {
    renderList(serversList, dataLinks.servers);
    renderList(botsList, dataLinks.bots);
    renderList(projectsList, dataLinks.projects);
    renderList(contactList, dataLinks.contact);
  }
  function renderList(container, items) {
    container.innerHTML = '';
    items.forEach(item => {
      const li = document.createElement('li');
      const a = document.createElement('a');
      a.href = item.url;
      a.textContent = item.name;
      a.target = '_blank';
      a.rel